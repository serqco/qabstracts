Automatic Detection of Performance Bugs in Database Systems using Equivalent Queries.

  2022 IEEE/ACM 44th International Conference on Software Engineering (ICSE)
Automatic Detection of Performance Bugs
in Database Systems using Equivalent Queries
                Xinyu Liu∗ , Qi Zhou† , Joy Arulraj∗ , Alessandro Orso∗
∗ Georgia
                    † Meta, Seattle, WA, USA; zhouqi@fb.com
Abstract
Because modern data-intensive applications rely heavily on database
systems (DBMSs), developers extensively test these systems to elim-
inate bugs that negatively affect functionality.
{{}}
Besides functional
bugs, however, there is another important class of faults that nega-
tively affect the response time of a DBMS, known as performance
bugs.
{{}}
Despite their potential impact on end-user experience, perfor-
mance bugs have received considerably less attention than functional
bugs.
{{}}
To ﬁll this gap, we present A MOEBA, a technique and tool
for automatically detecting performance bugs in DBMSs.
{{}}
The core
idea behind A MOEBA is to construct semantically equivalent query
pairs, run both queries on the DBMS under test, and compare their
response time.
{{}}
If the queries exhibit signiﬁcantly different response
times, that indicates the possible presence of a performance bug in
the DBMS.
{{}}
To construct equivalent queries, we propose to use a set
of structure and expression mutation rules especially targeted at un-
covering performance bugs.
{{}}
We also introduce feedback mechanisms
for improving the effectiveness and efﬁciency of the approach.
{{}}
We
evaluate A MOEBA on two widely-used DBMSs, namely PostgreSQL
and CockroachDB, with promising results:
{{}}
A MOEBA has so far dis-
covered 39 potential performance bugs, among which developers
have already conﬁrmed 6 bugs and ﬁxed 5 bugs.
{{}}
CCS Concepts
• Software and its engineering → Maintaining software; Soft-
ware veriﬁcation and validation; • Information systems → Query
optimization.
{{}}
Keywords
Differential testing, database testing, query optimization
ACM Reference Format:
{{}}
Xinyu Liu∗ , Qi Zhou† , Joy Arulraj∗ , Alessandro Orso∗ .
{{}}
2022.
{{}}
Automatic De-
tection of Performance Bugs in Database Systems using Equivalent Queries.
{{}}
In 44th International Conference on Software Engineering (ICSE ’22), May
21–29, 2022, Pittsburgh, PA, USA.
{{}}
ACM, New York, NY, USA, 12 pages.
{{}}
https://doi.org/10.1145/3510003.3510093
Permission to make digital or hard copies of all or part of this work for personal or
classroom use is granted without fee provided that copies are not made or distributed
for proﬁt or commercial advantage and that copies bear this notice and the full citation
on the ﬁrst page.
{{}}
Copyrights for components of this work owned by others than the
author(s) must be honored.
{{}}
Abstracting with credit is permitted.
{{}}
To copy otherwise, or
republish, to post on servers or to redistribute to lists, requires prior speciﬁc permission
and/or a fee.
{{}}
Request permissions from permissions@acm.org.
{{}}
ICSE ’22, May 21–29, 2022, Pittsburgh, PA, USA
© 2022 Copyright held by the owner/author(s).
{{}}
Publication rights licensed to ACM.
{{}}
ACM ISBN 978-1-4503-9221-1/22/05.
{{}}
.
{{}}
. $
{{}}
15.00
https://doi.org/10.1145/3510003.3510093
{{}}
---
